(this.webpackJsonpfakeshop=this.webpackJsonpfakeshop||[]).push([[0],{77:function(e,t,n){"use strict";n.r(t);var c,i,r,a,o,s=n(8),d=n.n(s),l=n(39),j=n(22),u=n(42),b=n.n(u),p=n(48),x=n(25),h=n(0),O=n(103),f=n(15),m=n(16),v=m.a.div(c||(c=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  width: 100%;\n  border: 1px solid lightblue;\n  border-radius: 20px;\n  height: 100%;\n  \n  button {\n    border-radius: 0 0 20px 20px;\n  }\n  img {\n    max-height: 250px;\n    object-fit: cover;\n    border-radius: 20px 20px 0 0;\n  }\n  div {\n    font-family: Arial, Helvetica, sans-serif;\n    padding: 1rem;\n    height: 100%;\n  }\n\n"]))),g=n(3),C=function(e){var t=e.item,n=e.handleAddToCart,c=t.image,i=t.title,r=t.description,a=t.price;return Object(g.jsxs)(v,{children:[Object(g.jsx)("img",{src:c,alt:i}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:i}),Object(g.jsx)("p",{children:r}),Object(g.jsxs)("h3",{children:["$",a]})]}),Object(g.jsx)(O.a,{onClick:function(){return n(t)},children:" Add to cart "})]})},y=m.a.div(i||(i=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  font-family: Arial, Helvetica, sans-serif;\n  border-bottonm: 1px solid lightblue;\n  padding-bottom: 20px;\n\n  div {\n    flex: 1;\n  }\n\n  .information, .buttons {\n   display: flex;\n  justify-content: space-between;\n  }\n\n  img {\n    max-width: 80px;\n    object-fit: cover;\n    margin-left: 40px;\n\n  }\n\n"]))),w=function(e){var t=e.item,n=e.addToCart,c=e.removeFromCart,i=t.id,r=t.title,a=t.price,o=t.amount,s=t.image;return Object(g.jsxs)(y,{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:r}),Object(g.jsxs)("div",{className:"information",children:[Object(g.jsxs)("p",{children:[" Price: $",a," "]}),Object(g.jsxs)("p",{children:[" Total: $",o*a,".toFixed(2) "]})]}),Object(g.jsxs)("div",{className:"buttons",children:[Object(g.jsx)(O.a,{size:"small",disableElevation:!0,variant:"contained",onClick:function(){return c(i)},children:" -  "}),o,Object(g.jsx)(O.a,{size:"small",disableElevation:!0,variant:"contained",onClick:function(){return n(t)},children:" +  "})]})]}),Object(g.jsx)("img",{src:s,alt:r})]})},k=m.a.aside(r||(r=Object(f.a)(["\n  font-family: Arial, Helvetica, sans-serif;\n  width: 500px;\n  padding: 20px;\n"]))),A=function(e){var t=e.cartItems,n=e.addToCart,c=e.removeFromCart;console.log("Cart.tsx",t);var i;return Object(g.jsxs)(k,{children:[Object(g.jsx)("h2",{children:"Your Shopping Cart"}),0===(null===t||void 0===t?void 0:t.length)?Object(g.jsx)("p",{children:" No items in cart "}):t.map((function(e){return Object(g.jsx)(w,{item:e,addToCart:n,removeFromCart:c},e.id)})),(null===t||void 0===t?void 0:t.length)>0&&Object(g.jsxs)("h2",{children:[" Total: $",(i=t,i.reduce((function(e,t){return e+t.amount*t.price}),0)).toFixed(2),"  "]})]})},T=n(110),S=n(107),F=n(109),z=n(53),E=n.n(z),I=n(108),N=n(106),$=m.a.div(a||(a=Object(f.a)(["\n  margin: 40px;\n"]))),H=Object(m.a)(N.a)(o||(o=Object(f.a)(["\n  position: fixed;\n  z-index: 100;\n  right: 20px;\n  top: 20px;\n"]))),J=function(){var e=Object(h.useState)(!1),t=Object(x.a)(e,2),n=t[0],c=t[1],i=Object(h.useState)(!1),r=Object(x.a)(i,2),a=r[0],o=r[1],s=Object(h.useState)(!1),d=Object(x.a)(s,2),u=d[0],O=d[1],f=Object(h.useState)([]),m=Object(x.a)(f,2),v=m[0],y=m[1],w=Object(h.useState)([]),k=Object(x.a)(w,2),z=k[0],N=k[1],J=function(){var e=Object(p.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,fetch("https://fakestoreapi.com/products");case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,console.log("App__getProducts",n),c(!1),o(!1),y(n),e.abrupt("return",n);case 15:return e.prev=15,e.t0=e.catch(1),console.log("\u041e\u0448\u0438\u0431\u043a\u0430",e.t0),c(!1),o(!0),e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();Object(h.useEffect)((function(){J()}),[]),console.log("App1",v.length),console.log("App2",v);var P,_=function(e){N((function(t){return t.find((function(t){return t.id===e.id}))?t.map((function(t){return t.id===e.id?Object(j.a)(Object(j.a)({},t),{},{amount:t.amount+1}):t})):[].concat(Object(l.a)(t),[Object(j.a)(Object(j.a)({},e),{},{amount:1})])}))};return n?Object(g.jsx)(S.a,{}):a?Object(g.jsx)("div",{children:" Something get whrong :/ "}):Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)($,{children:[Object(g.jsx)(T.a,{anchor:"right",open:u,onClose:function(){return O(!1)},children:Object(g.jsx)(A,{cartItems:z,addToCart:_,removeFromCart:function(e){N((function(t){return t.reduce((function(t,n){return n.id===e?1===n.amount?t:[].concat(Object(l.a)(t),[Object(j.a)(Object(j.a)({},n),{},{amount:n.amount-1})]):[].concat(Object(l.a)(t),[n])}),[])}))}})}),Object(g.jsx)(H,{onClick:function(){return O(!0)},style:{position:"fixed",zIndex:100,right:"20px",top:"20px"},children:Object(g.jsx)(I.a,{badgeContent:(P=z,P.reduce((function(e,t){return e+t.amount}),0)),color:"error",children:Object(g.jsx)(E.a,{})})}),Object(g.jsx)(F.a,{container:!0,spacing:3,children:(null===v||void 0===v?void 0:v.length)>0&&(null===v||void 0===v?void 0:v.map((function(e){return Object(g.jsx)(F.a,{item:!0,xs:12,sm:4,children:Object(g.jsx)(C,{item:e,handleAddToCart:_})},e.id)})))})]})})};d.a.render(Object(g.jsx)(J,{}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.7876e007.chunk.js.map